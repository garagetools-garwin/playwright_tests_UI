{"uid":"b569aa7f292599da","name":"Изменение количества товара через счетчик","fullName":"tests.test_cart#test_cart_counter","historyId":"243548ff50bff5870228a47549258a4d","time":{"start":1755354596150,"stop":1755354616392,"duration":20242},"status":"broken","statusMessage":"ValueError: Product not available, please select another product","statusTrace":"page_fixture = <Page url='https://garwin.ru/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt'>\nbase_url = 'https://garwin.ru'\n\n    @allure.title(\"Изменение количества товара через счетчик\")\n    def test_cart_counter(page_fixture, base_url):\n        cart_page = CartPage(page_fixture)\n>       cart_page.add_to_cart(base_url)\n\ntests/test_cart.py:173: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_objects.cart_page.CartPage object at 0x7f2a8ca8d370>\nurl = 'https://garwin.ru/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt'\n\n    @allure.step(\"Добавляю товар(stm) в корзину\")\n    def add_to_cart(self, url):\n        urls_to_check = [\n            f\"{url}/tovar/sverlo-spiralnoe-po-metallu-50-mm-hss-g-din338-5xd\",\n            f\"{url}/tovar/bita-udarnaya-1-4-ph1-25mm\",\n            f\"{url}/tovar/nakonechnik-kabelnyy-koltsevoy-izolirovannyy-s-pvh-manzhetoy-nki-1-5-3-kvt\",\n            f\"{url}/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt\"\n        ]\n    \n        for url in urls_to_check:\n            self.page.goto(url)\n    \n            try:\n                # Попытка найти и нажать кнопку \"Добавить в корзину\"\n                self.page.locator(\".ProductDetailControls__AddToCartButton.Button.flexRow.size--normal.color--primary\").click(timeout=3000)\n                break  # Прерываем цикл, если кнопка найдена и товар добавлен\n            except Exception:\n                print(f\"Add to cart button not found on {url}\")\n                continue  # Переходим к следующей ссылке, если кнопка не найдена\n        else:\n>           raise ValueError(\"Product not available, please select another product\")\nE           ValueError: Product not available, please select another product\n\npage_objects/cart_page.py:100: ValueError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"page_fixture","time":{"start":1755354596104,"stop":1755354596150,"duration":46},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"ValueError: Product not available, please select another product","statusTrace":"page_fixture = <Page url='https://garwin.ru/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt'>\nbase_url = 'https://garwin.ru'\n\n    @allure.title(\"Изменение количества товара через счетчик\")\n    def test_cart_counter(page_fixture, base_url):\n        cart_page = CartPage(page_fixture)\n>       cart_page.add_to_cart(base_url)\n\ntests/test_cart.py:173: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_objects.cart_page.CartPage object at 0x7f2a8ca8d370>\nurl = 'https://garwin.ru/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt'\n\n    @allure.step(\"Добавляю товар(stm) в корзину\")\n    def add_to_cart(self, url):\n        urls_to_check = [\n            f\"{url}/tovar/sverlo-spiralnoe-po-metallu-50-mm-hss-g-din338-5xd\",\n            f\"{url}/tovar/bita-udarnaya-1-4-ph1-25mm\",\n            f\"{url}/tovar/nakonechnik-kabelnyy-koltsevoy-izolirovannyy-s-pvh-manzhetoy-nki-1-5-3-kvt\",\n            f\"{url}/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt\"\n        ]\n    \n        for url in urls_to_check:\n            self.page.goto(url)\n    \n            try:\n                # Попытка найти и нажать кнопку \"Добавить в корзину\"\n                self.page.locator(\".ProductDetailControls__AddToCartButton.Button.flexRow.size--normal.color--primary\").click(timeout=3000)\n                break  # Прерываем цикл, если кнопка найдена и товар добавлен\n            except Exception:\n                print(f\"Add to cart button not found on {url}\")\n                continue  # Переходим к следующей ссылке, если кнопка не найдена\n        else:\n>           raise ValueError(\"Product not available, please select another product\")\nE           ValueError: Product not available, please select another product\n\npage_objects/cart_page.py:100: ValueError","steps":[{"name":"Добавляю товар(stm) в корзину","time":{"start":1755354596151,"stop":1755354616392,"duration":20241},"status":"broken","statusMessage":"ValueError: Product not available, please select another product\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/page_objects/cart_page.py\", line 100, in add_to_cart\n    raise ValueError(\"Product not available, please select another product\")\n","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://garwin.ru'"}],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"page_fixture::0","time":{"start":1755354616410,"stop":1755354616568,"duration":158},"status":"passed","steps":[],"attachments":[{"uid":"331aff5102a3778e","name":"trace","source":"331aff5102a3778e.zip","type":"application/zip","size":186324},{"uid":"7c0b8fb39468eadc","name":"failure_screenshot","source":"7c0b8fb39468eadc.png","type":"image/png","size":101786},{"uid":"3e9f08a4df241b35","name":"page_source","source":"3e9f08a4df241b35.html","type":"text/html","size":4269},{"uid":"5f71c3111ff2508c","name":"network_logs","source":"5f71c3111ff2508c.json","type":"application/json","size":2}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":4,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_cart"},{"name":"host","value":"pkrvmdgpy2b27sr"},{"name":"thread","value":"4201-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cart"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"280ef28a830df5c4","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1755354572700,"stop":1755354592923,"duration":20223}},{"uid":"756a44c5ad728804","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1755354549058,"stop":1755354569472,"duration":20414}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":3,"skipped":0,"passed":11,"unknown":0,"total":14},"items":[{"uid":"fb34da9aea339821","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/482/#testresult/fb34da9aea339821","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1755322742633,"stop":1755322763020,"duration":20387}},{"uid":"876fd7dd8bdf6fb1","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/481/#testresult/876fd7dd8bdf6fb1","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1755268218369,"stop":1755268238707,"duration":20338}},{"uid":"faef45491e53a441","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/480/#testresult/faef45491e53a441","status":"passed","time":{"start":1755235245399,"stop":1755235256440,"duration":11041}},{"uid":"7f4e70b60c812996","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/479/#testresult/7f4e70b60c812996","status":"passed","time":{"start":1755180865101,"stop":1755180875048,"duration":9947}},{"uid":"4723fd7e344d60bc","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/478/#testresult/4723fd7e344d60bc","status":"passed","time":{"start":1755148935099,"stop":1755148946378,"duration":11279}},{"uid":"13ae89099500e846","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/477/#testresult/13ae89099500e846","status":"passed","time":{"start":1755094583778,"stop":1755094594183,"duration":10405}},{"uid":"85a1b60bddef39f6","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/476//#testresult/85a1b60bddef39f6","status":"passed","time":{"start":1755062504586,"stop":1755062514894,"duration":10308}},{"uid":"93e3c68d2c2fee","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/475//#testresult/93e3c68d2c2fee","status":"passed","time":{"start":1755008123495,"stop":1755008134640,"duration":11145}},{"uid":"4ac0727de54cde82","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/474//#testresult/4ac0727de54cde82","status":"passed","time":{"start":1754980970628,"stop":1754980981137,"duration":10509}},{"uid":"1072023779b48874","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/473//#testresult/1072023779b48874","status":"passed","time":{"start":1754975976646,"stop":1754975987141,"duration":10495}},{"uid":"b0c5339c0a3a2677","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/472//#testresult/b0c5339c0a3a2677","status":"passed","time":{"start":1754925202132,"stop":1754925213365,"duration":11233}},{"uid":"cf9ef100175d3982","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/471//#testresult/cf9ef100175d3982","status":"passed","time":{"start":1754921830230,"stop":1754921841438,"duration":11208}},{"uid":"bdbe6ddb9abd96c","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/470//#testresult/bdbe6ddb9abd96c","status":"passed","time":{"start":1754910600999,"stop":1754910611410,"duration":10411}}]},"tags":[]},"source":"b569aa7f292599da.json","parameterValues":["'chromium'"]}