{"uid":"1451612508593ba9","name":"Ввод валидного адреса курьера","fullName":"tests.test_checkout#test_enter_valid_courier_address","historyId":"2139ac3c38fc437cb4b1b3fa614c5a2b","time":{"start":1752850642929,"stop":1752850668350,"duration":25421},"status":"failed","statusMessage":"AssertionError: Locator expected to have text 're.compile('Санкт-Петербург')'\nActual value: None \nCall log:\nLocatorAssertions.to_have_text with timeout 5000ms\n  - waiting for locator(\"div.CheckoutAddressPoint p\").first","statusTrace":"page_fixture = <Page url='https://garwin.ru/checkout'>\nbase_url = 'https://garwin.ru'\ndelete_address_fixture = <function delete_address_fixture.<locals>.mark_as_created at 0x7f2bf02ae5c0>\n\n    @pytest.mark.test_ci\n    @pytest.mark.auth\n    @allure.title(\"Ввод валидного адреса курьера\")\n    def test_enter_valid_courier_address(page_fixture, base_url, delete_address_fixture):\n        checkout_page = CheckoutPage(page_fixture)\n        cart_page = CartPage(page_fixture)\n        cart_page.open(base_url)\n        cart_page.clear_cart()\n        cart_page.add_to_cart(base_url)\n        checkout_page.open(base_url)\n        checkout_page.obtaining_block.adress_listing_activation_try(base_url, page_fixture)\n        checkout_page.adress_listing.click_add_adress_button()\n        checkout_page.map.click_courier_button()\n    \n        with allure.step(\"Проверяю, что появилось поле Адрес\"):\n            expect(checkout_page.map.adress_textaria_status()).to_be_visible()\n    \n        with allure.step(\"Ввожу адрес в поле Адрес\"):\n            checkout_page.map.type_in_textaria(\"юрия гагарина санкт-петербург\")\n    \n        with allure.step(\"Проверяю, что адрес содержит введенные значения\"):\n            map_modal_adress = checkout_page.map.text_from_first_adress_in_list()\n            expect(map_modal_adress).to_have_text(re.compile('Санкт-Петербург'))\n            expect(map_modal_adress).to_have_text(re.compile(\"Юрия Гагарина\"))\n    \n        with allure.step(\"Добавляю в адрес номер дома\"):\n            checkout_page.map.type_in_textaria(\"юрия гагарина санкт-петербург 11\")\n    \n        with allure.step(\"Проверяю, что адрес содержит введенные значения\"):\n            map_modal_adress = checkout_page.map.text_from_first_adress_in_list()\n>           expect(map_modal_adress).to_have_text(re.compile(\"Санкт-Петербург\"))\nE           AssertionError: Locator expected to have text 're.compile('Санкт-Петербург')'\nE           Actual value: None \nE           Call log:\nE           LocatorAssertions.to_have_text with timeout 5000ms\nE             - waiting for locator(\"div.CheckoutAddressPoint p\").first\n\ntests/test_checkout.py:1759: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1752848299827,"stop":1752848299827,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1752848299827,"stop":1752848299827,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1752848299827,"stop":1752848299901,"duration":74},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1752848299827,"stop":1752848299827,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1752848299901,"stop":1752848299901,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1752848299901,"stop":1752848299901,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1752848299901,"stop":1752848299901,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1752848299901,"stop":1752848300110,"duration":209},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1752848300111,"stop":1752848300111,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1752848300111,"stop":1752848300853,"duration":742},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1752848300111,"stop":1752848300111,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_fixture","time":{"start":1752850642841,"stop":1752850642929,"duration":88},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_address_fixture","time":{"start":1752850642929,"stop":1752850642929,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Locator expected to have text 're.compile('Санкт-Петербург')'\nActual value: None \nCall log:\nLocatorAssertions.to_have_text with timeout 5000ms\n  - waiting for locator(\"div.CheckoutAddressPoint p\").first","statusTrace":"page_fixture = <Page url='https://garwin.ru/checkout'>\nbase_url = 'https://garwin.ru'\ndelete_address_fixture = <function delete_address_fixture.<locals>.mark_as_created at 0x7f2bf02ae5c0>\n\n    @pytest.mark.test_ci\n    @pytest.mark.auth\n    @allure.title(\"Ввод валидного адреса курьера\")\n    def test_enter_valid_courier_address(page_fixture, base_url, delete_address_fixture):\n        checkout_page = CheckoutPage(page_fixture)\n        cart_page = CartPage(page_fixture)\n        cart_page.open(base_url)\n        cart_page.clear_cart()\n        cart_page.add_to_cart(base_url)\n        checkout_page.open(base_url)\n        checkout_page.obtaining_block.adress_listing_activation_try(base_url, page_fixture)\n        checkout_page.adress_listing.click_add_adress_button()\n        checkout_page.map.click_courier_button()\n    \n        with allure.step(\"Проверяю, что появилось поле Адрес\"):\n            expect(checkout_page.map.adress_textaria_status()).to_be_visible()\n    \n        with allure.step(\"Ввожу адрес в поле Адрес\"):\n            checkout_page.map.type_in_textaria(\"юрия гагарина санкт-петербург\")\n    \n        with allure.step(\"Проверяю, что адрес содержит введенные значения\"):\n            map_modal_adress = checkout_page.map.text_from_first_adress_in_list()\n            expect(map_modal_adress).to_have_text(re.compile('Санкт-Петербург'))\n            expect(map_modal_adress).to_have_text(re.compile(\"Юрия Гагарина\"))\n    \n        with allure.step(\"Добавляю в адрес номер дома\"):\n            checkout_page.map.type_in_textaria(\"юрия гагарина санкт-петербург 11\")\n    \n        with allure.step(\"Проверяю, что адрес содержит введенные значения\"):\n            map_modal_adress = checkout_page.map.text_from_first_adress_in_list()\n>           expect(map_modal_adress).to_have_text(re.compile(\"Санкт-Петербург\"))\nE           AssertionError: Locator expected to have text 're.compile('Санкт-Петербург')'\nE           Actual value: None \nE           Call log:\nE           LocatorAssertions.to_have_text with timeout 5000ms\nE             - waiting for locator(\"div.CheckoutAddressPoint p\").first\n\ntests/test_checkout.py:1759: AssertionError","steps":[{"name":"Открываю https://garwin.ru/cart","time":{"start":1752850642929,"stop":1752850646697,"duration":3768},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Очищаю корзину","time":{"start":1752850646698,"stop":1752850648864,"duration":2166},"status":"passed","steps":[{"name":"Нажимаю на кнопку 'Удалить'","time":{"start":1752850646730,"stop":1752850647795,"duration":1065},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Подтверждаю удаление","time":{"start":1752850647795,"stop":1752850648864,"duration":1069},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Добавляю товар(stm) в корзину","time":{"start":1752850648865,"stop":1752850654203,"duration":5338},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://garwin.ru'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Открываю https://garwin.ru/checkout","time":{"start":1752850654203,"stop":1752850656140,"duration":1937},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Открываю листинг получателей","time":{"start":1752850656140,"stop":1752850658974,"duration":2834},"status":"passed","steps":[{"name":"Открываю https://garwin.ru/checkout","time":{"start":1752850656140,"stop":1752850657873,"duration":1733},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Открываю листинг адресов","time":{"start":1752850657873,"stop":1752850658974,"duration":1101},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"base_url","value":"'https://garwin.ru'"},{"name":"page_fixture","value":"<Page url='https://garwin.ru/checkout'>"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Открываю модалку Карты","time":{"start":1752850658974,"stop":1752850660021,"duration":1047},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Выбираю доставку курьером","time":{"start":1752850660021,"stop":1752850661101,"duration":1080},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что появилось поле Адрес","time":{"start":1752850661101,"stop":1752850661136,"duration":35},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Ввожу адрес в поле Адрес","time":{"start":1752850661136,"stop":1752850662205,"duration":1069},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что адрес содержит введенные значения","time":{"start":1752850662205,"stop":1752850662257,"duration":52},"status":"passed","steps":[{"name":"Выбираю первый адрес в списке","time":{"start":1752850662205,"stop":1752850662205,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Добавляю в адрес номер дома","time":{"start":1752850662257,"stop":1752850663306,"duration":1049},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что адрес содержит введенные значения","time":{"start":1752850663306,"stop":1752850668350,"duration":5044},"status":"failed","statusMessage":"AssertionError: Locator expected to have text 're.compile('Санкт-Петербург')'\nActual value: None \nCall log:\nLocatorAssertions.to_have_text with timeout 5000ms\n  - waiting for locator(\"div.CheckoutAddressPoint p\").first\n\n","statusTrace":"  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/tests/test_checkout.py\", line 1759, in test_enter_valid_courier_address\n    expect(map_modal_adress).to_have_text(re.compile(\"Санкт-Петербург\"))\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 20408, in to_have_text\n    self._sync(\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 471, in to_have_text\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 70, in _expect_impl\n    raise AssertionError(\n","steps":[{"name":"Выбираю первый адрес в списке","time":{"start":1752850663307,"stop":1752850663307,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":18,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"delete_address_fixture::teardown","time":{"start":1752850668380,"stop":1752850668380,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_fixture::0","time":{"start":1752850668381,"stop":1752850669106,"duration":725},"status":"passed","steps":[],"attachments":[{"uid":"77157337624b055c","name":"trace","source":"77157337624b055c.zip","type":"application/zip","size":6975727},{"uid":"9ce5f652688a30b1","name":"failure_screenshot","source":"9ce5f652688a30b1.png","type":"image/png","size":1021932},{"uid":"58561c845ae3af90","name":"page_source","source":"58561c845ae3af90.html","type":"text/html","size":1030498},{"uid":"f5f3e0b22bcfacc4","name":"network_logs","source":"f5f3e0b22bcfacc4.json","type":"application/json","size":2}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"browser::0","time":{"start":1752850875372,"stop":1752850875835,"duration":463},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1752850875843,"stop":1752850875857,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"auth"},{"name":"tag","value":"test_ci"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_checkout"},{"name":"host","value":"pkrvm4h0tjkhlvh"},{"name":"thread","value":"4266-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_checkout"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["test_ci","auth"]},"source":"1451612508593ba9.json","parameterValues":["'chromium'"]}