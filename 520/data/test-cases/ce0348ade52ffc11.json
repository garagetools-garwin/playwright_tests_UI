{"uid":"ce0348ade52ffc11","name":"Изменение цены в блоке калькуляции по части позиций (Счетчик)","fullName":"tests.test_cart#test_cart_calculation_block_calculate_price_of_some_products","historyId":"77fe9079933e404427c3b8bc7254497c","time":{"start":1756619412480,"stop":1756619432853,"duration":20373},"status":"broken","statusMessage":"ValueError: Product not available, please select another product","statusTrace":"page_fixture = <Page url='https://garwin.ru/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt'>\nbase_url = 'https://garwin.ru'\n\n    @allure.title(\"Изменение цены в блоке калькуляции по части позиций (Счетчик)\")\n    def test_cart_calculation_block_calculate_price_of_some_products(page_fixture, base_url):\n        cart_page = CartPage(page_fixture)\n>       cart_page.add_to_cart(base_url)\n\ntests/test_cart.py:194: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_objects.cart_page.CartPage object at 0x7fa4594cc140>\nurl = 'https://garwin.ru/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt'\n\n    @allure.step(\"Добавляю товар(stm) в корзину\")\n    def add_to_cart(self, url):\n        urls_to_check = [\n            f\"{url}/tovar/sverlo-spiralnoe-po-metallu-50-mm-hss-g-din338-5xd\",\n            f\"{url}/tovar/bita-udarnaya-1-4-ph1-25mm\",\n            f\"{url}/tovar/nakonechnik-kabelnyy-koltsevoy-izolirovannyy-s-pvh-manzhetoy-nki-1-5-3-kvt\",\n            f\"{url}/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt\"\n        ]\n    \n        for url in urls_to_check:\n            self.page.goto(url)\n    \n            try:\n                # Попытка найти и нажать кнопку \"Добавить в корзину\"\n                self.page.locator(\".ProductDetailControls__AddToCartButton.Button.flexRow.size--normal.color--primary\").click(timeout=3000)\n                break  # Прерываем цикл, если кнопка найдена и товар добавлен\n            except Exception:\n                print(f\"Add to cart button not found on {url}\")\n                continue  # Переходим к следующей ссылке, если кнопка не найдена\n        else:\n>           raise ValueError(\"Product not available, please select another product\")\nE           ValueError: Product not available, please select another product\n\npage_objects/cart_page.py:100: ValueError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"page_fixture","time":{"start":1756619412433,"stop":1756619412479,"duration":46},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"ValueError: Product not available, please select another product","statusTrace":"page_fixture = <Page url='https://garwin.ru/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt'>\nbase_url = 'https://garwin.ru'\n\n    @allure.title(\"Изменение цены в блоке калькуляции по части позиций (Счетчик)\")\n    def test_cart_calculation_block_calculate_price_of_some_products(page_fixture, base_url):\n        cart_page = CartPage(page_fixture)\n>       cart_page.add_to_cart(base_url)\n\ntests/test_cart.py:194: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_objects.cart_page.CartPage object at 0x7fa4594cc140>\nurl = 'https://garwin.ru/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt'\n\n    @allure.step(\"Добавляю товар(stm) в корзину\")\n    def add_to_cart(self, url):\n        urls_to_check = [\n            f\"{url}/tovar/sverlo-spiralnoe-po-metallu-50-mm-hss-g-din338-5xd\",\n            f\"{url}/tovar/bita-udarnaya-1-4-ph1-25mm\",\n            f\"{url}/tovar/nakonechnik-kabelnyy-koltsevoy-izolirovannyy-s-pvh-manzhetoy-nki-1-5-3-kvt\",\n            f\"{url}/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt\"\n        ]\n    \n        for url in urls_to_check:\n            self.page.goto(url)\n    \n            try:\n                # Попытка найти и нажать кнопку \"Добавить в корзину\"\n                self.page.locator(\".ProductDetailControls__AddToCartButton.Button.flexRow.size--normal.color--primary\").click(timeout=3000)\n                break  # Прерываем цикл, если кнопка найдена и товар добавлен\n            except Exception:\n                print(f\"Add to cart button not found on {url}\")\n                continue  # Переходим к следующей ссылке, если кнопка не найдена\n        else:\n>           raise ValueError(\"Product not available, please select another product\")\nE           ValueError: Product not available, please select another product\n\npage_objects/cart_page.py:100: ValueError","steps":[{"name":"Добавляю товар(stm) в корзину","time":{"start":1756619412480,"stop":1756619432853,"duration":20373},"status":"broken","statusMessage":"ValueError: Product not available, please select another product\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/page_objects/cart_page.py\", line 100, in add_to_cart\n    raise ValueError(\"Product not available, please select another product\")\n","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://garwin.ru'"}],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"page_fixture::0","time":{"start":1756619432871,"stop":1756619433030,"duration":159},"status":"passed","steps":[],"attachments":[{"uid":"fdb9b8f24809b9f3","name":"trace","source":"fdb9b8f24809b9f3.zip","type":"application/zip","size":240322},{"uid":"5363518870af3c76","name":"failure_screenshot","source":"5363518870af3c76.png","type":"image/png","size":101492},{"uid":"9dadbdeca00c3477","name":"page_source","source":"9dadbdeca00c3477.html","type":"text/html","size":4268},{"uid":"89154a09c46054ce","name":"network_logs","source":"89154a09c46054ce.json","type":"application/json","size":2}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":4,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_cart"},{"name":"host","value":"pkrvm2jjpg2dj4m"},{"name":"thread","value":"4399-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cart"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"3849acdee6e33e39","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1756619388996,"stop":1756619409247,"duration":20251}},{"uid":"7cb9b63d738c679d","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1756619365483,"stop":1756619385762,"duration":20279}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":8,"skipped":0,"passed":34,"unknown":0,"total":42},"items":[{"uid":"815d0791344dbe72","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/519/#testresult/815d0791344dbe72","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1756564679405,"stop":1756564699693,"duration":20288}},{"uid":"a457d97dd9ce3af3","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/518/#testresult/a457d97dd9ce3af3","status":"passed","time":{"start":1756531693531,"stop":1756531703152,"duration":9621}},{"uid":"af80ccbce531f4eb","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/517/#testresult/af80ccbce531f4eb","status":"passed","time":{"start":1756476927525,"stop":1756476937857,"duration":10332}},{"uid":"db1ea081f4adafe3","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/516/#testresult/db1ea081f4adafe3","status":"passed","time":{"start":1756445366845,"stop":1756445375862,"duration":9017}},{"uid":"561373b8b74a26ac","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/515/#testresult/561373b8b74a26ac","status":"passed","time":{"start":1756390601093,"stop":1756390611582,"duration":10489}},{"uid":"de90f1caa36cb154","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/514/#testresult/de90f1caa36cb154","status":"passed","time":{"start":1756358862370,"stop":1756358872763,"duration":10393}},{"uid":"8e8cb3c991570d6f","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/513/#testresult/8e8cb3c991570d6f","status":"passed","time":{"start":1756304090597,"stop":1756304099665,"duration":9068}},{"uid":"61539080dbed75e6","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/512/#testresult/61539080dbed75e6","status":"passed","time":{"start":1756272632817,"stop":1756272641686,"duration":8869}},{"uid":"1ac169af49f59867","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/511/#testresult/1ac169af49f59867","status":"passed","time":{"start":1756217737951,"stop":1756217748045,"duration":10094}},{"uid":"2c89afca228df48f","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/510/#testresult/2c89afca228df48f","status":"passed","time":{"start":1756186325310,"stop":1756186335320,"duration":10010}},{"uid":"45a7548d93484dd","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/509/#testresult/45a7548d93484dd","status":"passed","time":{"start":1756131403322,"stop":1756131413365,"duration":10043}},{"uid":"79e218d2c81820ce","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/508/#testresult/79e218d2c81820ce","status":"passed","time":{"start":1756100118963,"stop":1756100128001,"duration":9038}},{"uid":"97e0d4374e6cd193","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/507/#testresult/97e0d4374e6cd193","status":"passed","time":{"start":1756044868204,"stop":1756044878551,"duration":10347}},{"uid":"6b0ff43c552bc786","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/506/#testresult/6b0ff43c552bc786","status":"passed","time":{"start":1756013208222,"stop":1756013217401,"duration":9179}},{"uid":"5ea01c46d040c434","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/505/#testresult/5ea01c46d040c434","status":"passed","time":{"start":1755958437276,"stop":1755958447341,"duration":10065}},{"uid":"c0007d9d090715f","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/504/#testresult/c0007d9d090715f","status":"passed","time":{"start":1755926995904,"stop":1755927006293,"duration":10389}},{"uid":"616a5c36aa069639","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/503/#testresult/616a5c36aa069639","status":"passed","time":{"start":1755872150555,"stop":1755872160861,"duration":10306}},{"uid":"ad5f30d60775394e","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/502/#testresult/ad5f30d60775394e","status":"passed","time":{"start":1755840689524,"stop":1755840699142,"duration":9618}},{"uid":"9f91f34e99246f2e","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/501/#testresult/9f91f34e99246f2e","status":"passed","time":{"start":1755785810520,"stop":1755785820945,"duration":10425}},{"uid":"ddb9c94ee182ec7c","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/496/#testresult/ddb9c94ee182ec7c","status":"passed","time":{"start":1755754090872,"stop":1755754100719,"duration":9847}}]},"tags":[]},"source":"ce0348ade52ffc11.json","parameterValues":["'chromium'"]}