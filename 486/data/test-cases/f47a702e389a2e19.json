{"uid":"f47a702e389a2e19","name":"Открытие листинга получателей (через кнопку Изменить)","fullName":"tests.test_checkout#test_recipient_listing_activation","historyId":"077b7020012f1ca57063ccb2af1e597e","time":{"start":1755497906122,"stop":1755497927567,"duration":21445},"status":"broken","statusMessage":"ValueError: Product not available, please select another product","statusTrace":"page_fixture = <Page url='https://garwin.ru/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt'>\nbase_url = 'https://garwin.ru'\n\n    @pytest.mark.auth\n    @allure.title(\"Открытие листинга получателей (через кнопку Изменить)\")\n    def test_recipient_listing_activation(page_fixture, base_url):\n        checkout_page = CheckoutPage(page_fixture)\n        cart_page = CartPage(page_fixture)\n        cart_page.open(base_url)\n        cart_page.clear_cart()\n>       cart_page.add_to_cart(base_url)\n\ntests/test_checkout.py:431: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_objects.cart_page.CartPage object at 0x7f41a0f69760>\nurl = 'https://garwin.ru/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt'\n\n    @allure.step(\"Добавляю товар(stm) в корзину\")\n    def add_to_cart(self, url):\n        urls_to_check = [\n            f\"{url}/tovar/sverlo-spiralnoe-po-metallu-50-mm-hss-g-din338-5xd\",\n            f\"{url}/tovar/bita-udarnaya-1-4-ph1-25mm\",\n            f\"{url}/tovar/nakonechnik-kabelnyy-koltsevoy-izolirovannyy-s-pvh-manzhetoy-nki-1-5-3-kvt\",\n            f\"{url}/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt\"\n        ]\n    \n        for url in urls_to_check:\n            self.page.goto(url)\n    \n            try:\n                # Попытка найти и нажать кнопку \"Добавить в корзину\"\n                self.page.locator(\".ProductDetailControls__AddToCartButton.Button.flexRow.size--normal.color--primary\").click(timeout=3000)\n                break  # Прерываем цикл, если кнопка найдена и товар добавлен\n            except Exception:\n                print(f\"Add to cart button not found on {url}\")\n                continue  # Переходим к следующей ссылке, если кнопка не найдена\n        else:\n>           raise ValueError(\"Product not available, please select another product\")\nE           ValueError: Product not available, please select another product\n\npage_objects/cart_page.py:100: ValueError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"page_fixture","time":{"start":1755497906034,"stop":1755497906122,"duration":88},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"ValueError: Product not available, please select another product","statusTrace":"page_fixture = <Page url='https://garwin.ru/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt'>\nbase_url = 'https://garwin.ru'\n\n    @pytest.mark.auth\n    @allure.title(\"Открытие листинга получателей (через кнопку Изменить)\")\n    def test_recipient_listing_activation(page_fixture, base_url):\n        checkout_page = CheckoutPage(page_fixture)\n        cart_page = CartPage(page_fixture)\n        cart_page.open(base_url)\n        cart_page.clear_cart()\n>       cart_page.add_to_cart(base_url)\n\ntests/test_checkout.py:431: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_objects.cart_page.CartPage object at 0x7f41a0f69760>\nurl = 'https://garwin.ru/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt'\n\n    @allure.step(\"Добавляю товар(stm) в корзину\")\n    def add_to_cart(self, url):\n        urls_to_check = [\n            f\"{url}/tovar/sverlo-spiralnoe-po-metallu-50-mm-hss-g-din338-5xd\",\n            f\"{url}/tovar/bita-udarnaya-1-4-ph1-25mm\",\n            f\"{url}/tovar/nakonechnik-kabelnyy-koltsevoy-izolirovannyy-s-pvh-manzhetoy-nki-1-5-3-kvt\",\n            f\"{url}/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt\"\n        ]\n    \n        for url in urls_to_check:\n            self.page.goto(url)\n    \n            try:\n                # Попытка найти и нажать кнопку \"Добавить в корзину\"\n                self.page.locator(\".ProductDetailControls__AddToCartButton.Button.flexRow.size--normal.color--primary\").click(timeout=3000)\n                break  # Прерываем цикл, если кнопка найдена и товар добавлен\n            except Exception:\n                print(f\"Add to cart button not found on {url}\")\n                continue  # Переходим к следующей ссылке, если кнопка не найдена\n        else:\n>           raise ValueError(\"Product not available, please select another product\")\nE           ValueError: Product not available, please select another product\n\npage_objects/cart_page.py:100: ValueError","steps":[{"name":"Открываю https://garwin.ru/cart","time":{"start":1755497906122,"stop":1755497907179,"duration":1057},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Очищаю корзину","time":{"start":1755497907179,"stop":1755497907200,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Добавляю товар(stm) в корзину","time":{"start":1755497907200,"stop":1755497927566,"duration":20366},"status":"broken","statusMessage":"ValueError: Product not available, please select another product\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/page_objects/cart_page.py\", line 100, in add_to_cart\n    raise ValueError(\"Product not available, please select another product\")\n","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://garwin.ru'"}],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"page_fixture::0","time":{"start":1755497927607,"stop":1755497927779,"duration":172},"status":"passed","steps":[],"attachments":[{"uid":"7a5c41f41a0456a2","name":"trace","source":"7a5c41f41a0456a2.zip","type":"application/zip","size":289657},{"uid":"666f4d7c4a6650af","name":"failure_screenshot","source":"666f4d7c4a6650af.png","type":"image/png","size":101675},{"uid":"19f280ec93dc5eb0","name":"page_source","source":"19f280ec93dc5eb0.html","type":"text/html","size":4270},{"uid":"a7b1464bccd6ff87","name":"network_logs","source":"a7b1464bccd6ff87.json","type":"application/json","size":2}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":4,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"tag","value":"auth"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_checkout"},{"name":"host","value":"pkrvmdgpy2b27sr"},{"name":"thread","value":"4163-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_checkout"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"ab7359ef06ff28bc","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1755497881361,"stop":1755497902818,"duration":21457}},{"uid":"d1fdc2cc99887b65","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1755497856733,"stop":1755497878064,"duration":21331}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":5,"skipped":0,"passed":11,"unknown":0,"total":16},"items":[{"uid":"ed682a25a0632a55","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/485/#testresult/ed682a25a0632a55","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1755442963564,"stop":1755442985298,"duration":21734}},{"uid":"6c8a325b4c37c6c1","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/483/#testresult/6c8a325b4c37c6c1","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1755356522350,"stop":1755356543687,"duration":21337}},{"uid":"942fdd662f154bf0","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/482/#testresult/942fdd662f154bf0","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1755324680270,"stop":1755324701766,"duration":21496}},{"uid":"11ea2a633bf3669c","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/481/#testresult/11ea2a633bf3669c","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1755270148463,"stop":1755270169816,"duration":21353}},{"uid":"a28f4d2ea3a3024b","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/480/#testresult/a28f4d2ea3a3024b","status":"passed","time":{"start":1755236130244,"stop":1755236144043,"duration":13799}},{"uid":"522b8e2267d53f82","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/479/#testresult/522b8e2267d53f82","status":"passed","time":{"start":1755181695317,"stop":1755181708523,"duration":13206}},{"uid":"6cc97c5f785e5809","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/478/#testresult/6cc97c5f785e5809","status":"passed","time":{"start":1755149877467,"stop":1755149893803,"duration":16336}},{"uid":"201b4d6400045682","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/477/#testresult/201b4d6400045682","status":"passed","time":{"start":1755095567225,"stop":1755095582597,"duration":15372}},{"uid":"6f9c71855516f182","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/476//#testresult/6f9c71855516f182","status":"passed","time":{"start":1755063576522,"stop":1755063590005,"duration":13483}},{"uid":"4a21be9584d3c6c7","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/475//#testresult/4a21be9584d3c6c7","status":"passed","time":{"start":1755009018406,"stop":1755009033341,"duration":14935}},{"uid":"c762a8f9e6abe29","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/474//#testresult/c762a8f9e6abe29","status":"passed","time":{"start":1754981771878,"stop":1754981785376,"duration":13498}},{"uid":"666844dc82ce6818","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/473//#testresult/666844dc82ce6818","status":"passed","time":{"start":1754976786404,"stop":1754976799770,"duration":13366}},{"uid":"8ce44063ad1c85f4","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/472//#testresult/8ce44063ad1c85f4","status":"passed","time":{"start":1754926081264,"stop":1754926096320,"duration":15056}},{"uid":"c35f989989da0234","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/471//#testresult/c35f989989da0234","status":"passed","time":{"start":1754922824435,"stop":1754922839728,"duration":15293}},{"uid":"ffcb6925e9458dde","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/470//#testresult/ffcb6925e9458dde","status":"passed","time":{"start":1754911442929,"stop":1754911456836,"duration":13907}}]},"tags":["auth"]},"source":"f47a702e389a2e19.json","parameterValues":["'chromium'"]}