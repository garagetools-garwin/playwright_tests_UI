{"uid":"de80d63f12abfc79","name":"Изменение цены в блоке калькуляции по части позиций (Счетчик)","fullName":"tests.test_cart#test_cart_calculation_block_calculate_price_of_some_products","historyId":"77fe9079933e404427c3b8bc7254497c","time":{"start":1755496044573,"stop":1755496064920,"duration":20347},"status":"broken","statusMessage":"ValueError: Product not available, please select another product","statusTrace":"page_fixture = <Page url='https://garwin.ru/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt'>\nbase_url = 'https://garwin.ru'\n\n    @allure.title(\"Изменение цены в блоке калькуляции по части позиций (Счетчик)\")\n    def test_cart_calculation_block_calculate_price_of_some_products(page_fixture, base_url):\n        cart_page = CartPage(page_fixture)\n>       cart_page.add_to_cart(base_url)\n\ntests/test_cart.py:194: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_objects.cart_page.CartPage object at 0x7f41a090d850>\nurl = 'https://garwin.ru/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt'\n\n    @allure.step(\"Добавляю товар(stm) в корзину\")\n    def add_to_cart(self, url):\n        urls_to_check = [\n            f\"{url}/tovar/sverlo-spiralnoe-po-metallu-50-mm-hss-g-din338-5xd\",\n            f\"{url}/tovar/bita-udarnaya-1-4-ph1-25mm\",\n            f\"{url}/tovar/nakonechnik-kabelnyy-koltsevoy-izolirovannyy-s-pvh-manzhetoy-nki-1-5-3-kvt\",\n            f\"{url}/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt\"\n        ]\n    \n        for url in urls_to_check:\n            self.page.goto(url)\n    \n            try:\n                # Попытка найти и нажать кнопку \"Добавить в корзину\"\n                self.page.locator(\".ProductDetailControls__AddToCartButton.Button.flexRow.size--normal.color--primary\").click(timeout=3000)\n                break  # Прерываем цикл, если кнопка найдена и товар добавлен\n            except Exception:\n                print(f\"Add to cart button not found on {url}\")\n                continue  # Переходим к следующей ссылке, если кнопка не найдена\n        else:\n>           raise ValueError(\"Product not available, please select another product\")\nE           ValueError: Product not available, please select another product\n\npage_objects/cart_page.py:100: ValueError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"page_fixture","time":{"start":1755496044524,"stop":1755496044572,"duration":48},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"ValueError: Product not available, please select another product","statusTrace":"page_fixture = <Page url='https://garwin.ru/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt'>\nbase_url = 'https://garwin.ru'\n\n    @allure.title(\"Изменение цены в блоке калькуляции по части позиций (Счетчик)\")\n    def test_cart_calculation_block_calculate_price_of_some_products(page_fixture, base_url):\n        cart_page = CartPage(page_fixture)\n>       cart_page.add_to_cart(base_url)\n\ntests/test_cart.py:194: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_objects.cart_page.CartPage object at 0x7f41a090d850>\nurl = 'https://garwin.ru/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt'\n\n    @allure.step(\"Добавляю товар(stm) в корзину\")\n    def add_to_cart(self, url):\n        urls_to_check = [\n            f\"{url}/tovar/sverlo-spiralnoe-po-metallu-50-mm-hss-g-din338-5xd\",\n            f\"{url}/tovar/bita-udarnaya-1-4-ph1-25mm\",\n            f\"{url}/tovar/nakonechnik-kabelnyy-koltsevoy-izolirovannyy-s-pvh-manzhetoy-nki-1-5-3-kvt\",\n            f\"{url}/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt\"\n        ]\n    \n        for url in urls_to_check:\n            self.page.goto(url)\n    \n            try:\n                # Попытка найти и нажать кнопку \"Добавить в корзину\"\n                self.page.locator(\".ProductDetailControls__AddToCartButton.Button.flexRow.size--normal.color--primary\").click(timeout=3000)\n                break  # Прерываем цикл, если кнопка найдена и товар добавлен\n            except Exception:\n                print(f\"Add to cart button not found on {url}\")\n                continue  # Переходим к следующей ссылке, если кнопка не найдена\n        else:\n>           raise ValueError(\"Product not available, please select another product\")\nE           ValueError: Product not available, please select another product\n\npage_objects/cart_page.py:100: ValueError","steps":[{"name":"Добавляю товар(stm) в корзину","time":{"start":1755496044573,"stop":1755496064920,"duration":20347},"status":"broken","statusMessage":"ValueError: Product not available, please select another product\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/page_objects/cart_page.py\", line 100, in add_to_cart\n    raise ValueError(\"Product not available, please select another product\")\n","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://garwin.ru'"}],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"page_fixture::0","time":{"start":1755496064941,"stop":1755496065105,"duration":164},"status":"passed","steps":[],"attachments":[{"uid":"264d64dabb9f5a00","name":"trace","source":"264d64dabb9f5a00.zip","type":"application/zip","size":221982},{"uid":"b64cc0aed405c5a7","name":"failure_screenshot","source":"b64cc0aed405c5a7.png","type":"image/png","size":101889},{"uid":"4047014c10ec9c03","name":"page_source","source":"4047014c10ec9c03.html","type":"text/html","size":4270},{"uid":"48f16cddd6fc8c7b","name":"network_logs","source":"48f16cddd6fc8c7b.json","type":"application/json","size":2}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":4,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_cart"},{"name":"host","value":"pkrvmdgpy2b27sr"},{"name":"thread","value":"4163-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cart"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"340aaac2968ca4ca","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1755496020924,"stop":1755496041319,"duration":20395}},{"uid":"a1e725f049761ea1","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1755495997473,"stop":1755496017690,"duration":20217}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":5,"skipped":0,"passed":11,"unknown":0,"total":16},"items":[{"uid":"5f3d5d85164334","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/485/#testresult/5f3d5d85164334","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1755441088401,"stop":1755441108771,"duration":20370}},{"uid":"e542a042d1eccefd","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/483/#testresult/e542a042d1eccefd","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1755354663580,"stop":1755354683818,"duration":20238}},{"uid":"cd8bbf4d7da14347","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/482/#testresult/cd8bbf4d7da14347","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1755322810463,"stop":1755322830840,"duration":20377}},{"uid":"a432d436b4a7c4c2","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/481/#testresult/a432d436b4a7c4c2","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1755268286283,"stop":1755268306637,"duration":20354}},{"uid":"f6f36f116e0e6df4","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/480/#testresult/f6f36f116e0e6df4","status":"passed","time":{"start":1755235256512,"stop":1755235266218,"duration":9706}},{"uid":"212507a32b5da921","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/479/#testresult/212507a32b5da921","status":"passed","time":{"start":1755180875119,"stop":1755180885014,"duration":9895}},{"uid":"27bff80da71ba2d5","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/478/#testresult/27bff80da71ba2d5","status":"passed","time":{"start":1755148946449,"stop":1755148957707,"duration":11258}},{"uid":"adfd71329fa529","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/477/#testresult/adfd71329fa529","status":"passed","time":{"start":1755094594255,"stop":1755094605462,"duration":11207}},{"uid":"c840859286eb99fc","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/476//#testresult/c840859286eb99fc","status":"passed","time":{"start":1755062514964,"stop":1755062525788,"duration":10824}},{"uid":"66359ba1471096c5","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/475//#testresult/66359ba1471096c5","status":"passed","time":{"start":1755008134709,"stop":1755008144251,"duration":9542}},{"uid":"4e2496207ff953c1","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/474//#testresult/4e2496207ff953c1","status":"passed","time":{"start":1754980981210,"stop":1754980990982,"duration":9772}},{"uid":"d8060c190f657e4","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/473//#testresult/d8060c190f657e4","status":"passed","time":{"start":1754975987210,"stop":1754975997379,"duration":10169}},{"uid":"8c15479e38c6914b","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/472//#testresult/8c15479e38c6914b","status":"passed","time":{"start":1754925213435,"stop":1754925224193,"duration":10758}},{"uid":"13ec7c6646c1334e","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/471//#testresult/13ec7c6646c1334e","status":"passed","time":{"start":1754921841512,"stop":1754921853366,"duration":11854}},{"uid":"8f3c708764c65874","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/470//#testresult/8f3c708764c65874","status":"passed","time":{"start":1754910611481,"stop":1754910622222,"duration":10741}}]},"tags":[]},"source":"de80d63f12abfc79.json","parameterValues":["'chromium'"]}