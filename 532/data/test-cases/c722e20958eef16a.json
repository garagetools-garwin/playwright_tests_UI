{"uid":"c722e20958eef16a","name":"Изменение цены в блоке калькуляции по части позиций (Счетчик)","fullName":"tests.test_cart#test_cart_calculation_block_calculate_price_of_some_products","historyId":"77fe9079933e404427c3b8bc7254497c","time":{"start":1757137777117,"stop":1757137797369,"duration":20252},"status":"broken","statusMessage":"ValueError: Product not available, please select another product","statusTrace":"page_fixture = <Page url='https://garwin.ru/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt'>\nbase_url = 'https://garwin.ru'\n\n    @allure.title(\"Изменение цены в блоке калькуляции по части позиций (Счетчик)\")\n    def test_cart_calculation_block_calculate_price_of_some_products(page_fixture, base_url):\n        cart_page = CartPage(page_fixture)\n>       cart_page.add_to_cart(base_url)\n\ntests/test_cart.py:194: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_objects.cart_page.CartPage object at 0x7fdc57bb4320>\nurl = 'https://garwin.ru/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt'\n\n    @allure.step(\"Добавляю товар(stm) в корзину\")\n    def add_to_cart(self, url):\n        urls_to_check = [\n            f\"{url}/tovar/sverlo-spiralnoe-po-metallu-50-mm-hss-g-din338-5xd\",\n            f\"{url}/tovar/bita-udarnaya-1-4-ph1-25mm\",\n            f\"{url}/tovar/nakonechnik-kabelnyy-koltsevoy-izolirovannyy-s-pvh-manzhetoy-nki-1-5-3-kvt\",\n            f\"{url}/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt\"\n        ]\n    \n        for url in urls_to_check:\n            self.page.goto(url)\n    \n            try:\n                # Попытка найти и нажать кнопку \"Добавить в корзину\"\n                self.page.locator(\".ProductDetailControls__AddToCartButton.Button.flexRow.size--normal.color--primary\").click(timeout=3000)\n                break  # Прерываем цикл, если кнопка найдена и товар добавлен\n            except Exception:\n                print(f\"Add to cart button not found on {url}\")\n                continue  # Переходим к следующей ссылке, если кнопка не найдена\n        else:\n>           raise ValueError(\"Product not available, please select another product\")\nE           ValueError: Product not available, please select another product\n\npage_objects/cart_page.py:100: ValueError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"page_fixture","time":{"start":1757137777072,"stop":1757137777117,"duration":45},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"ValueError: Product not available, please select another product","statusTrace":"page_fixture = <Page url='https://garwin.ru/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt'>\nbase_url = 'https://garwin.ru'\n\n    @allure.title(\"Изменение цены в блоке калькуляции по части позиций (Счетчик)\")\n    def test_cart_calculation_block_calculate_price_of_some_products(page_fixture, base_url):\n        cart_page = CartPage(page_fixture)\n>       cart_page.add_to_cart(base_url)\n\ntests/test_cart.py:194: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_objects.cart_page.CartPage object at 0x7fdc57bb4320>\nurl = 'https://garwin.ru/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt'\n\n    @allure.step(\"Добавляю товар(stm) в корзину\")\n    def add_to_cart(self, url):\n        urls_to_check = [\n            f\"{url}/tovar/sverlo-spiralnoe-po-metallu-50-mm-hss-g-din338-5xd\",\n            f\"{url}/tovar/bita-udarnaya-1-4-ph1-25mm\",\n            f\"{url}/tovar/nakonechnik-kabelnyy-koltsevoy-izolirovannyy-s-pvh-manzhetoy-nki-1-5-3-kvt\",\n            f\"{url}/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt\"\n        ]\n    \n        for url in urls_to_check:\n            self.page.goto(url)\n    \n            try:\n                # Попытка найти и нажать кнопку \"Добавить в корзину\"\n                self.page.locator(\".ProductDetailControls__AddToCartButton.Button.flexRow.size--normal.color--primary\").click(timeout=3000)\n                break  # Прерываем цикл, если кнопка найдена и товар добавлен\n            except Exception:\n                print(f\"Add to cart button not found on {url}\")\n                continue  # Переходим к следующей ссылке, если кнопка не найдена\n        else:\n>           raise ValueError(\"Product not available, please select another product\")\nE           ValueError: Product not available, please select another product\n\npage_objects/cart_page.py:100: ValueError","steps":[{"name":"Добавляю товар(stm) в корзину","time":{"start":1757137777117,"stop":1757137797368,"duration":20251},"status":"broken","statusMessage":"ValueError: Product not available, please select another product\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/page_objects/cart_page.py\", line 100, in add_to_cart\n    raise ValueError(\"Product not available, please select another product\")\n","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://garwin.ru'"}],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"page_fixture::0","time":{"start":1757137797387,"stop":1757137797549,"duration":162},"status":"passed","steps":[],"attachments":[{"uid":"2534e70c27a7db22","name":"trace","source":"2534e70c27a7db22.zip","type":"application/zip","size":186351},{"uid":"5cfc3c82043d586a","name":"failure_screenshot","source":"5cfc3c82043d586a.png","type":"image/png","size":101637},{"uid":"c073d9315e917c5a","name":"page_source","source":"c073d9315e917c5a.html","type":"text/html","size":4269},{"uid":"9fb6955e969963bd","name":"network_logs","source":"9fb6955e969963bd.json","type":"application/json","size":2}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":4,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_cart"},{"name":"host","value":"runnervm6whdl"},{"name":"thread","value":"4287-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cart"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"6f6ae67a15a084d2","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1757137753633,"stop":1757137773883,"duration":20250}},{"uid":"3ca0a04bd3081250","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1757137729816,"stop":1757137750406,"duration":20590}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":20,"skipped":0,"passed":34,"unknown":0,"total":54},"items":[{"uid":"b70e773f6401fa22","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/531/#testresult/b70e773f6401fa22","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1757083188505,"stop":1757083208775,"duration":20270}},{"uid":"8e380d7a002737af","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/530/#testresult/8e380d7a002737af","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1757051617835,"stop":1757051638127,"duration":20292}},{"uid":"4cf290db53b36649","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/529/#testresult/4cf290db53b36649","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1756997047892,"stop":1756997068186,"duration":20294}},{"uid":"c4e213e8271b456","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/528/#testresult/c4e213e8271b456","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1756964996763,"stop":1756965016983,"duration":20220}},{"uid":"4ede88b057c3c541","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/527/#testresult/4ede88b057c3c541","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1756910440283,"stop":1756910460548,"duration":20265}},{"uid":"32428378fb4135c4","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/526/#testresult/32428378fb4135c4","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1756878779633,"stop":1756878800036,"duration":20403}},{"uid":"ffed70cdfbd47faf","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/525/#testresult/ffed70cdfbd47faf","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1756824072085,"stop":1756824092333,"duration":20248}},{"uid":"fabde9257b94f784","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/524/#testresult/fabde9257b94f784","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1756792470523,"stop":1756792490944,"duration":20421}},{"uid":"767d4006902293e2","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/523/#testresult/767d4006902293e2","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1756737580245,"stop":1756737600511,"duration":20266}},{"uid":"c6a479633d396db0","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/522/#testresult/c6a479633d396db0","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1756705997974,"stop":1756706018334,"duration":20360}},{"uid":"6fad63d0a068d6e3","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/521/#testresult/6fad63d0a068d6e3","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1756651089896,"stop":1756651110123,"duration":20227}},{"uid":"ce0348ade52ffc11","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/520/#testresult/ce0348ade52ffc11","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1756619412480,"stop":1756619432853,"duration":20373}},{"uid":"815d0791344dbe72","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/519/#testresult/815d0791344dbe72","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1756564679405,"stop":1756564699693,"duration":20288}},{"uid":"a457d97dd9ce3af3","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/518/#testresult/a457d97dd9ce3af3","status":"passed","time":{"start":1756531693531,"stop":1756531703152,"duration":9621}},{"uid":"af80ccbce531f4eb","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/517/#testresult/af80ccbce531f4eb","status":"passed","time":{"start":1756476927525,"stop":1756476937857,"duration":10332}},{"uid":"db1ea081f4adafe3","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/516/#testresult/db1ea081f4adafe3","status":"passed","time":{"start":1756445366845,"stop":1756445375862,"duration":9017}},{"uid":"561373b8b74a26ac","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/515/#testresult/561373b8b74a26ac","status":"passed","time":{"start":1756390601093,"stop":1756390611582,"duration":10489}},{"uid":"de90f1caa36cb154","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/514/#testresult/de90f1caa36cb154","status":"passed","time":{"start":1756358862370,"stop":1756358872763,"duration":10393}},{"uid":"8e8cb3c991570d6f","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/513/#testresult/8e8cb3c991570d6f","status":"passed","time":{"start":1756304090597,"stop":1756304099665,"duration":9068}},{"uid":"61539080dbed75e6","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/512/#testresult/61539080dbed75e6","status":"passed","time":{"start":1756272632817,"stop":1756272641686,"duration":8869}}]},"tags":[]},"source":"c722e20958eef16a.json","parameterValues":["'chromium'"]}