{"uid":"cf2eaae77c8894fb","name":"Отправка на печать","fullName":"tests.test_cart#test_cart_print_form_activation","historyId":"b631db5a7f52373815b612f2a3340dd4","time":{"start":1755322674635,"stop":1755322695017,"duration":20382},"status":"broken","statusMessage":"ValueError: Product not available, please select another product","statusTrace":"page_fixture = <Page url='https://garwin.ru/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt'>\nbase_url = 'https://garwin.ru'\n\n    @pytest.mark.for_test_2\n    @allure.title(\"Отправка на печать\")\n    def test_cart_print_form_activation(page_fixture, base_url):\n        cart_page = CartPage(page_fixture)\n>       cart_page.add_to_cart(base_url)\n\ntests/test_cart.py:163: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_objects.cart_page.CartPage object at 0x7fa7d0b6c0b0>\nurl = 'https://garwin.ru/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt'\n\n    @allure.step(\"Добавляю товар(stm) в корзину\")\n    def add_to_cart(self, url):\n        urls_to_check = [\n            f\"{url}/tovar/sverlo-spiralnoe-po-metallu-50-mm-hss-g-din338-5xd\",\n            f\"{url}/tovar/bita-udarnaya-1-4-ph1-25mm\",\n            f\"{url}/tovar/nakonechnik-kabelnyy-koltsevoy-izolirovannyy-s-pvh-manzhetoy-nki-1-5-3-kvt\",\n            f\"{url}/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt\"\n        ]\n    \n        for url in urls_to_check:\n            self.page.goto(url)\n    \n            try:\n                # Попытка найти и нажать кнопку \"Добавить в корзину\"\n                self.page.locator(\".ProductDetailControls__AddToCartButton.Button.flexRow.size--normal.color--primary\").click(timeout=3000)\n                break  # Прерываем цикл, если кнопка найдена и товар добавлен\n            except Exception:\n                print(f\"Add to cart button not found on {url}\")\n                continue  # Переходим к следующей ссылке, если кнопка не найдена\n        else:\n>           raise ValueError(\"Product not available, please select another product\")\nE           ValueError: Product not available, please select another product\n\npage_objects/cart_page.py:100: ValueError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"page_fixture","time":{"start":1755322674589,"stop":1755322674635,"duration":46},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"ValueError: Product not available, please select another product","statusTrace":"page_fixture = <Page url='https://garwin.ru/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt'>\nbase_url = 'https://garwin.ru'\n\n    @pytest.mark.for_test_2\n    @allure.title(\"Отправка на печать\")\n    def test_cart_print_form_activation(page_fixture, base_url):\n        cart_page = CartPage(page_fixture)\n>       cart_page.add_to_cart(base_url)\n\ntests/test_cart.py:163: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_objects.cart_page.CartPage object at 0x7fa7d0b6c0b0>\nurl = 'https://garwin.ru/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt'\n\n    @allure.step(\"Добавляю товар(stm) в корзину\")\n    def add_to_cart(self, url):\n        urls_to_check = [\n            f\"{url}/tovar/sverlo-spiralnoe-po-metallu-50-mm-hss-g-din338-5xd\",\n            f\"{url}/tovar/bita-udarnaya-1-4-ph1-25mm\",\n            f\"{url}/tovar/nakonechnik-kabelnyy-koltsevoy-izolirovannyy-s-pvh-manzhetoy-nki-1-5-3-kvt\",\n            f\"{url}/tovar/nakonechnik-kabelnyy-vilochnyy-izolirovannyy-s-pvh-manzhetoy-nvi-2-5-6-kvt\"\n        ]\n    \n        for url in urls_to_check:\n            self.page.goto(url)\n    \n            try:\n                # Попытка найти и нажать кнопку \"Добавить в корзину\"\n                self.page.locator(\".ProductDetailControls__AddToCartButton.Button.flexRow.size--normal.color--primary\").click(timeout=3000)\n                break  # Прерываем цикл, если кнопка найдена и товар добавлен\n            except Exception:\n                print(f\"Add to cart button not found on {url}\")\n                continue  # Переходим к следующей ссылке, если кнопка не найдена\n        else:\n>           raise ValueError(\"Product not available, please select another product\")\nE           ValueError: Product not available, please select another product\n\npage_objects/cart_page.py:100: ValueError","steps":[{"name":"Добавляю товар(stm) в корзину","time":{"start":1755322674635,"stop":1755322695017,"duration":20382},"status":"broken","statusMessage":"ValueError: Product not available, please select another product\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/page_objects/cart_page.py\", line 100, in add_to_cart\n    raise ValueError(\"Product not available, please select another product\")\n","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://garwin.ru'"}],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"page_fixture::0","time":{"start":1755322695038,"stop":1755322695203,"duration":165},"status":"passed","steps":[],"attachments":[{"uid":"820f4f9d7407272e","name":"trace","source":"820f4f9d7407272e.zip","type":"application/zip","size":258351},{"uid":"36da2bb910067841","name":"failure_screenshot","source":"36da2bb910067841.png","type":"image/png","size":101722},{"uid":"6a985c0cb3f7b31f","name":"page_source","source":"6a985c0cb3f7b31f.html","type":"text/html","size":4268},{"uid":"ee6273ea0e9c47a8","name":"network_logs","source":"ee6273ea0e9c47a8.json","type":"application/json","size":2}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":4,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"tag","value":"for_test_2"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_cart"},{"name":"host","value":"pkrvmdgpy2b27sr"},{"name":"thread","value":"4216-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cart"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"6938f17c42c8810","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1755322651023,"stop":1755322671399,"duration":20376}},{"uid":"7cde51f4550a11b9","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1755322627438,"stop":1755322647800,"duration":20362}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":2,"skipped":0,"passed":11,"unknown":0,"total":13},"items":[{"uid":"903513fca90bcf60","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/481/#testresult/903513fca90bcf60","status":"broken","statusDetails":"ValueError: Product not available, please select another product","time":{"start":1755268150719,"stop":1755268170996,"duration":20277}},{"uid":"c51baade99580628","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/480/#testresult/c51baade99580628","status":"passed","time":{"start":1755235235575,"stop":1755235245335,"duration":9760}},{"uid":"63b3a73c6a7a8a52","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/479/#testresult/63b3a73c6a7a8a52","status":"passed","time":{"start":1755180855622,"stop":1755180865032,"duration":9410}},{"uid":"321daf619770b380","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/478/#testresult/321daf619770b380","status":"passed","time":{"start":1755148925696,"stop":1755148935029,"duration":9333}},{"uid":"8bc91560c3d99759","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/477/#testresult/8bc91560c3d99759","status":"passed","time":{"start":1755094573549,"stop":1755094583706,"duration":10157}},{"uid":"fe20a244ee34cf82","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/476//#testresult/fe20a244ee34cf82","status":"passed","time":{"start":1755062495838,"stop":1755062504521,"duration":8683}},{"uid":"a5de5d3f8bb072f2","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/475//#testresult/a5de5d3f8bb072f2","status":"passed","time":{"start":1755008113083,"stop":1755008123422,"duration":10339}},{"uid":"ba8e5c90c26b4e51","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/474//#testresult/ba8e5c90c26b4e51","status":"passed","time":{"start":1754980961396,"stop":1754980970556,"duration":9160}},{"uid":"6672d81e489d3969","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/473//#testresult/6672d81e489d3969","status":"passed","time":{"start":1754975967841,"stop":1754975976573,"duration":8732}},{"uid":"b5699886cab2826c","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/472//#testresult/b5699886cab2826c","status":"passed","time":{"start":1754925191962,"stop":1754925202060,"duration":10098}},{"uid":"2ceea3daca3a79f2","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/471//#testresult/2ceea3daca3a79f2","status":"passed","time":{"start":1754921819873,"stop":1754921830164,"duration":10291}},{"uid":"3893b4a224eae32d","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/470//#testresult/3893b4a224eae32d","status":"passed","time":{"start":1754910591118,"stop":1754910600935,"duration":9817}}]},"tags":["for_test_2"]},"source":"cf2eaae77c8894fb.json","parameterValues":["'chromium'"]}