{"uid":"25dd6ed92d2edca7","name":"Создание заказа с валидацией JSON-схемы","fullName":"tests.test_create_order#test_create_order_schema","historyId":"8ede2a8f9afd0feea1baf558df8c32e3","time":{"start":1752211240551,"stop":1752211263844,"duration":23293},"status":"broken","statusMessage":"TypeError: cannot unpack non-iterable NoneType object","statusTrace":"page_fixture = <Page url='https://garwin.ru/checkout'>\nbase_url = 'https://garwin.ru'\ndelete_recipient_fixture = <function delete_recipient_fixture.<locals>.mark_as_created at 0x7fba74d4ce00>\ndelete_address_fixture = <function delete_address_fixture.<locals>.mark_as_created at 0x7fba74d4cfe0>\n\n    @pytest.mark.auth\n    @pytest.mark.smoke\n    @pytest.mark.custom_schedule\n    @allure.title(\"Создание заказа с валидацией JSON-схемы\")\n    def test_create_order_schema(page_fixture, base_url, delete_recipient_fixture, delete_address_fixture):\n        cart_page = CartPage(page_fixture)\n        checkout_page = CheckoutPage(page_fixture)\n        purchase_page = PurchasePage(page_fixture)\n        header = HeaderElement(page_fixture)\n        companies_page = CompaniesPage(page_fixture)\n        companies_page.select_company_with_retail_price(base_url)\n        cart_page.open(base_url)\n    \n        with allure.step(\"Запоминаю адрес в блоке Получение\"):\n            company_name = header.company_name_text()\n    \n        cart_page.clear_cart()\n        cart_page.add_to_cart_product_out_of_stock(base_url)\n    \n>       name, email, phone = checkout_page.buyer_and_recipient_block.create_recipient(base_url, page_fixture)\nE       TypeError: cannot unpack non-iterable NoneType object\n\ntests/test_create_order.py:73: TypeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1752211239312,"stop":1752211239312,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1752211239312,"stop":1752211239386,"duration":74},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1752211239312,"stop":1752211239312,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1752211239312,"stop":1752211239312,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1752211239386,"stop":1752211239386,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1752211239386,"stop":1752211239386,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1752211239386,"stop":1752211239386,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1752211239386,"stop":1752211239592,"duration":206},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1752211239593,"stop":1752211239593,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1752211239593,"stop":1752211239593,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1752211239593,"stop":1752211240429,"duration":836},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_fixture","time":{"start":1752211240430,"stop":1752211240550,"duration":120},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_recipient_fixture","time":{"start":1752211240550,"stop":1752211240550,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_address_fixture","time":{"start":1752211240550,"stop":1752211240550,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"TypeError: cannot unpack non-iterable NoneType object","statusTrace":"page_fixture = <Page url='https://garwin.ru/checkout'>\nbase_url = 'https://garwin.ru'\ndelete_recipient_fixture = <function delete_recipient_fixture.<locals>.mark_as_created at 0x7fba74d4ce00>\ndelete_address_fixture = <function delete_address_fixture.<locals>.mark_as_created at 0x7fba74d4cfe0>\n\n    @pytest.mark.auth\n    @pytest.mark.smoke\n    @pytest.mark.custom_schedule\n    @allure.title(\"Создание заказа с валидацией JSON-схемы\")\n    def test_create_order_schema(page_fixture, base_url, delete_recipient_fixture, delete_address_fixture):\n        cart_page = CartPage(page_fixture)\n        checkout_page = CheckoutPage(page_fixture)\n        purchase_page = PurchasePage(page_fixture)\n        header = HeaderElement(page_fixture)\n        companies_page = CompaniesPage(page_fixture)\n        companies_page.select_company_with_retail_price(base_url)\n        cart_page.open(base_url)\n    \n        with allure.step(\"Запоминаю адрес в блоке Получение\"):\n            company_name = header.company_name_text()\n    \n        cart_page.clear_cart()\n        cart_page.add_to_cart_product_out_of_stock(base_url)\n    \n>       name, email, phone = checkout_page.buyer_and_recipient_block.create_recipient(base_url, page_fixture)\nE       TypeError: cannot unpack non-iterable NoneType object\n\ntests/test_create_order.py:73: TypeError","steps":[{"name":"Выбираю контрагента с розничным типом цен","time":{"start":1752211240551,"stop":1752211244682,"duration":4131},"status":"passed","steps":[{"name":"Открываю страницу Мои компании","time":{"start":1752211240551,"stop":1752211244598,"duration":4047},"status":"passed","steps":[{"name":"Открываю https://garwin.ru/cabinet/companies/","time":{"start":1752211240551,"stop":1752211244598,"duration":4047},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"url","value":"'https://garwin.ru'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Нахожу компанию с не розничным типом цен","time":{"start":1752211244598,"stop":1752211244642,"duration":44},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю состояние кнопки и выбираю компанию, если она не выбрана","time":{"start":1752211244642,"stop":1752211244682,"duration":40},"status":"passed","steps":[],"attachments":[{"uid":"6e19f1b982ec9ca3","name":"Состояние кнопки","source":"6e19f1b982ec9ca3.attach","type":"text/plain","size":39}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"base_url","value":"'https://garwin.ru'"}],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Открываю https://garwin.ru/cart","time":{"start":1752211244682,"stop":1752211247339,"duration":2657},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Запоминаю адрес в блоке Получение","time":{"start":1752211247339,"stop":1752211247367,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Очищаю корзину","time":{"start":1752211247367,"stop":1752211249542,"duration":2175},"status":"passed","steps":[{"name":"Нажимаю на кнопку 'Удалить'","time":{"start":1752211247385,"stop":1752211248464,"duration":1079},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Подтверждаю удаление","time":{"start":1752211248464,"stop":1752211249542,"duration":1078},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Добавляю товар не в наличии","time":{"start":1752211249542,"stop":1752211255679,"duration":6137},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://garwin.ru'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Создаю нового получателя","time":{"start":1752211255680,"stop":1752211263844,"duration":8164},"status":"passed","steps":[{"name":"Открываю https://garwin.ru/checkout","time":{"start":1752211255680,"stop":1752211257815,"duration":2135},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Открываю листинг получателей","time":{"start":1752211257815,"stop":1752211260829,"duration":3014},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Timeout 3000ms exceeded.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/page_objects/checkout_page.py\", line 238, in open_recipient_listing\n    self.page.locator(self.buyer_and_recipient_block.RECIPIENT_CHANGE_BUTTON).wait_for(timeout=3000)\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 18419, in wait_for\n    self._sync(self._impl_obj.wait_for(timeout=timeout, state=state))\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_locator.py\", line 668, in wait_for\n    await self._frame.wait_for_selector(\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_frame.py\", line 327, in wait_for_selector\n    await self._channel.send(\"waitForSelector\", locals_to_params(locals()))\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py\", line 63, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py\", line 495, in wrap_api_call\n    return await cb()\n           ^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py\", line 101, in inner_send\n    result = next(iter(done)).result()\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Открываю окно Нового получателя","time":{"start":1752211260830,"stop":1752211263843,"duration":3013},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Timeout 3000ms exceeded.\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/page_objects/checkout_page.py\", line 65, in click_add_first_recipient_button\n    self.page.locator(self.ADD_FIRST_RECIPIENT_BUTTON).wait_for(timeout=3000)\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 18419, in wait_for\n    self._sync(self._impl_obj.wait_for(timeout=timeout, state=state))\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_locator.py\", line 668, in wait_for\n    await self._frame.wait_for_selector(\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_frame.py\", line 327, in wait_for_selector\n    await self._channel.send(\"waitForSelector\", locals_to_params(locals()))\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py\", line 63, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py\", line 495, in wrap_api_call\n    return await cb()\n           ^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py\", line 101, in inner_send\n    result = next(iter(done)).result()\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"base_url","value":"'https://garwin.ru'"},{"name":"page_fixture","value":"<Page url='https://garwin.ru/tovar/nakonechnik-kabelnyy-shtiftovoy-ploskiy-izolirovannyy-s-pvh-manzhetoy-nshpi-2-5-10-kvt'>"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":15,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"delete_recipient_fixture::teardown","time":{"start":1752211263849,"stop":1752211263849,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_fixture::0","time":{"start":1752211263849,"stop":1752211264345,"duration":496},"status":"passed","steps":[],"attachments":[{"uid":"40882d7cb509ccf0","name":"trace","source":"40882d7cb509ccf0.zip","type":"application/zip","size":2938946},{"uid":"db77afe4f9004e14","name":"failure_screenshot","source":"db77afe4f9004e14.png","type":"image/png","size":232961},{"uid":"eb10ab20dbab7e79","name":"page_source","source":"eb10ab20dbab7e79.html","type":"text/html","size":693592},{"uid":"96fb296e505bdf2f","name":"network_logs","source":"96fb296e505bdf2f.json","type":"application/json","size":2}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"delete_address_fixture::teardown","time":{"start":1752211263849,"stop":1752211263849,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1752211313153,"stop":1752211313198,"duration":45},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1752211313199,"stop":1752211313210,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"custom_schedule"},{"name":"tag","value":"smoke"},{"name":"tag","value":"auth"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_create_order"},{"name":"host","value":"pkrvmouajcrg33w"},{"name":"thread","value":"4305-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_create_order"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["auth","smoke","custom_schedule"]},"source":"25dd6ed92d2edca7.json","parameterValues":["'chromium'"]}