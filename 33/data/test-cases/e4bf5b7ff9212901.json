{"uid":"e4bf5b7ff9212901","name":"Открытие листинга получателей (через кнопку Изменить)","fullName":"tests.test_checkout#test_recipient_listing_activation","historyId":"077b7020012f1ca57063ccb2af1e597e","time":{"start":1741068192256,"stop":1741068209347,"duration":17091},"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: None \nCall log:\nLocatorAssertions.to_be_visible with timeout 3000ms\n  - waiting for locator(\".RecipientSelection .flexColumn.KitModal__Inner\")","statusTrace":"page_fixture = <Page url='https://garwin.ru/checkout'>\nbase_url = 'https://garwin.ru'\n\n    @pytest.mark.auth\n    @allure.title(\"Открытие листинга получателей (через кнопку Изменить)\")\n    def test_recipient_listing_activation(page_fixture, base_url):\n        checkout_page = CheckoutPage(page_fixture)\n        cart_page = CartPage(page_fixture)\n        cart_page.open(base_url)\n        cart_page.clear_cart()\n        cart_page.add_to_cart(base_url)\n        checkout_page.open(base_url)\n>       checkout_page.recipient_listing.open_recipient_listing()\n\ntests/test_checkout.py:356: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_objects.checkout_page.RecipientListing object at 0x7ff26c901820>\n\n    @allure.step(\"Открываю листинг получателей\")\n    def open_recipient_listing(self):\n        # Ожидаем появления кнопки в течение 3 секунд\n        self.page.locator(self.buyer_and_recipient_block.RECIPIENT_CHANGE_BUTTON).wait_for(timeout=3000)\n        self.page.locator(self.buyer_and_recipient_block.RECIPIENT_CHANGE_BUTTON).click()\n    \n        # Проверяем, действительно ли открылся листинг\n        with allure.step(\"Проверяю, что листинг пользователей открыт\"):\n>           expect(self.page.locator(self.RECIPIENT_LISTING_MODAL)).to_be_visible(timeout=3000)\nE           AssertionError: Locator expected to be visible\nE           Actual value: None \nE           Call log:\nE           LocatorAssertions.to_be_visible with timeout 3000ms\nE             - waiting for locator(\".RecipientSelection .flexColumn.KitModal__Inner\")\n\npage_objects/checkout_page.py:133: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":true,"beforeStages":[{"name":"page_fixture","time":{"start":1741068192168,"stop":1741068192255,"duration":87},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: None \nCall log:\nLocatorAssertions.to_be_visible with timeout 3000ms\n  - waiting for locator(\".RecipientSelection .flexColumn.KitModal__Inner\")","statusTrace":"page_fixture = <Page url='https://garwin.ru/checkout'>\nbase_url = 'https://garwin.ru'\n\n    @pytest.mark.auth\n    @allure.title(\"Открытие листинга получателей (через кнопку Изменить)\")\n    def test_recipient_listing_activation(page_fixture, base_url):\n        checkout_page = CheckoutPage(page_fixture)\n        cart_page = CartPage(page_fixture)\n        cart_page.open(base_url)\n        cart_page.clear_cart()\n        cart_page.add_to_cart(base_url)\n        checkout_page.open(base_url)\n>       checkout_page.recipient_listing.open_recipient_listing()\n\ntests/test_checkout.py:356: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_objects.checkout_page.RecipientListing object at 0x7ff26c901820>\n\n    @allure.step(\"Открываю листинг получателей\")\n    def open_recipient_listing(self):\n        # Ожидаем появления кнопки в течение 3 секунд\n        self.page.locator(self.buyer_and_recipient_block.RECIPIENT_CHANGE_BUTTON).wait_for(timeout=3000)\n        self.page.locator(self.buyer_and_recipient_block.RECIPIENT_CHANGE_BUTTON).click()\n    \n        # Проверяем, действительно ли открылся листинг\n        with allure.step(\"Проверяю, что листинг пользователей открыт\"):\n>           expect(self.page.locator(self.RECIPIENT_LISTING_MODAL)).to_be_visible(timeout=3000)\nE           AssertionError: Locator expected to be visible\nE           Actual value: None \nE           Call log:\nE           LocatorAssertions.to_be_visible with timeout 3000ms\nE             - waiting for locator(\".RecipientSelection .flexColumn.KitModal__Inner\")\n\npage_objects/checkout_page.py:133: AssertionError","steps":[{"name":"Открываю https://garwin.ru/cart","time":{"start":1741068192256,"stop":1741068195498,"duration":3242},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Очищаю корзину","time":{"start":1741068195498,"stop":1741068197679,"duration":2181},"status":"passed","steps":[{"name":"Нажимаю на кнопку 'Удалить'","time":{"start":1741068195536,"stop":1741068196608,"duration":1072},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Подтверждаю удаление","time":{"start":1741068196608,"stop":1741068197679,"duration":1071},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Добавляю товар(stm) в корзину","time":{"start":1741068197679,"stop":1741068203145,"duration":5466},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://garwin.ru'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Открываю https://garwin.ru/checkout","time":{"start":1741068203145,"stop":1741068205227,"duration":2082},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Открываю листинг получателей","time":{"start":1741068205227,"stop":1741068209347,"duration":4120},"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: None \nCall log:\nLocatorAssertions.to_be_visible with timeout 3000ms\n  - waiting for locator(\".RecipientSelection .flexColumn.KitModal__Inner\")\n\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/page_objects/checkout_page.py\", line 133, in open_recipient_listing\n    expect(self.page.locator(self.RECIPIENT_LISTING_MODAL)).to_be_visible(timeout=3000)\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 20902, in to_be_visible\n    self._sync(self._impl_obj.to_be_visible(visible=visible, timeout=timeout))\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 654, in to_be_visible\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 70, in _expect_impl\n    raise AssertionError(\n","steps":[{"name":"Проверяю, что листинг пользователей открыт","time":{"start":1741068206335,"stop":1741068209346,"duration":3011},"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: None \nCall log:\nLocatorAssertions.to_be_visible with timeout 3000ms\n  - waiting for locator(\".RecipientSelection .flexColumn.KitModal__Inner\")\n\n","statusTrace":"  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/page_objects/checkout_page.py\", line 133, in open_recipient_listing\n    expect(self.page.locator(self.RECIPIENT_LISTING_MODAL)).to_be_visible(timeout=3000)\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 20902, in to_be_visible\n    self._sync(self._impl_obj.to_be_visible(visible=visible, timeout=timeout))\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 654, in to_be_visible\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 70, in _expect_impl\n    raise AssertionError(\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":8,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"page_fixture::0","time":{"start":1741068209380,"stop":1741068209793,"duration":413},"status":"passed","steps":[],"attachments":[{"uid":"e23044764fdecbeb","name":"trace","source":"e23044764fdecbeb.zip","type":"application/zip","size":2844618},{"uid":"b9f8757b981683d5","name":"failure_screenshot","source":"b9f8757b981683d5.png","type":"image/png","size":153263},{"uid":"efb57d446095032d","name":"page_source","source":"efb57d446095032d.html","type":"text/html","size":695600},{"uid":"8e61b31aa70c384b","name":"network_logs","source":"8e61b31aa70c384b.json","type":"application/json","size":2}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"tag","value":"auth"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_checkout"},{"name":"host","value":"fv-az1789-706"},{"name":"thread","value":"4232-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_checkout"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"44e8849ba43a7e1b","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Timeout 3000ms exceeded.","time":{"start":1741068173668,"stop":1741068188615,"duration":14947}},{"uid":"ad2f62f435bb3d80","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: None \nCall log:\nLocatorAssertions.to_be_visible with timeout 3000ms\n  - waiting for locator(\".RecipientSelection .flexColumn.KitModal__Inner\")","time":{"start":1741068153075,"stop":1741068170116,"duration":17041}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":9,"unknown":0,"total":10},"items":[{"uid":"b41d600a9ec197e9","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/32//#testresult/b41d600a9ec197e9","status":"passed","time":{"start":1741012269815,"stop":1741012283462,"duration":13647}},{"uid":"1995b54af1292a9d","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/31//#testresult/1995b54af1292a9d","status":"passed","time":{"start":1740984269236,"stop":1740984283796,"duration":14560}},{"uid":"8e0be9773713916b","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/30//#testresult/8e0be9773713916b","status":"passed","time":{"start":1740979879516,"stop":1740979893892,"duration":14376}},{"uid":"9b93e2c09ed7ca7d","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/29//#testresult/9b93e2c09ed7ca7d","status":"passed","time":{"start":1740925776130,"stop":1740925790274,"duration":14144}},{"uid":"f9afc57d3bf21f08","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/28//#testresult/f9afc57d3bf21f08","status":"passed","time":{"start":1740893533773,"stop":1740893548054,"duration":14281}},{"uid":"bf51479204442226","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/27//#testresult/bf51479204442226","status":"passed","time":{"start":1740839358298,"stop":1740839372716,"duration":14418}},{"uid":"7ab3fe1dcf467332","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/26//#testresult/7ab3fe1dcf467332","status":"passed","time":{"start":1740806911033,"stop":1740806924511,"duration":13478}},{"uid":"b6c19faae64afdd7","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/25//#testresult/b6c19faae64afdd7","status":"passed","time":{"start":1740752989422,"stop":1740753004215,"duration":14793}},{"uid":"d19f5b5239f6cb63","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/24//#testresult/d19f5b5239f6cb63","status":"passed","time":{"start":1740708441456,"stop":1740708456320,"duration":14864}}]},"tags":["auth"]},"source":"e4bf5b7ff9212901.json","parameterValues":["'chromium'"]}