{"uid":"1f28481e4f1a47f4","name":"Закрытие блока изменения информации","fullName":"tests.test_cart#test_cart_info_change_block_close","historyId":"7d555b2053bac83ebba7744f99f9e470","time":{"start":1750052355598,"stop":1750052391866,"duration":36268},"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: None \nCall log:\nLocatorAssertions.to_be_visible with timeout 5000ms\n  - waiting for locator(\".EmptyBlock__Title\")","statusTrace":"page_fixture = <Page url='https://garwin.ru/cart'>\nbase_url = 'https://garwin.ru'\n\n    @pytest.mark.auth\n    @allure.title(\"Закрытие блока изменения информации\")\n    # @pytest.mark.skip(\"Требуется переделать способ активации блока изменения цены\")\n    def test_cart_info_change_block_close(page_fixture, base_url):\n        cart_page = CartPage(page_fixture)\n        cart_page.info_change_block_activation(page_fixture, base_url)\n        cart_page.click_ok_button()\n        with allure.step(\"Проверяю, что блок изменения информации больше не отображается на странице\"):\n            expect(cart_page.change_info_block).not_to_be_visible()\n>       cart_page.cart_deletion_all_products()\n\ntests/test_cart.py:303: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npage_objects/cart_page.py:76: in cart_deletion_all_products\n    self.cart_is_empty()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_objects.cart_page.CartPage object at 0x7f02a4dfbb00>\n\n    @allure.step(\"Проверяю, что корзина пуста\")\n    def cart_is_empty(self):\n>       expect(self.page.locator(self.CART_IS_EMPTY)).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: None \nE       Call log:\nE       LocatorAssertions.to_be_visible with timeout 5000ms\nE         - waiting for locator(\".EmptyBlock__Title\")\n\npage_objects/cart_page.py:637: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"page_fixture","time":{"start":1750052355509,"stop":1750052355598,"duration":89},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: None \nCall log:\nLocatorAssertions.to_be_visible with timeout 5000ms\n  - waiting for locator(\".EmptyBlock__Title\")","statusTrace":"page_fixture = <Page url='https://garwin.ru/cart'>\nbase_url = 'https://garwin.ru'\n\n    @pytest.mark.auth\n    @allure.title(\"Закрытие блока изменения информации\")\n    # @pytest.mark.skip(\"Требуется переделать способ активации блока изменения цены\")\n    def test_cart_info_change_block_close(page_fixture, base_url):\n        cart_page = CartPage(page_fixture)\n        cart_page.info_change_block_activation(page_fixture, base_url)\n        cart_page.click_ok_button()\n        with allure.step(\"Проверяю, что блок изменения информации больше не отображается на странице\"):\n            expect(cart_page.change_info_block).not_to_be_visible()\n>       cart_page.cart_deletion_all_products()\n\ntests/test_cart.py:303: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npage_objects/cart_page.py:76: in cart_deletion_all_products\n    self.cart_is_empty()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_objects.cart_page.CartPage object at 0x7f02a4dfbb00>\n\n    @allure.step(\"Проверяю, что корзина пуста\")\n    def cart_is_empty(self):\n>       expect(self.page.locator(self.CART_IS_EMPTY)).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: None \nE       Call log:\nE       LocatorAssertions.to_be_visible with timeout 5000ms\nE         - waiting for locator(\".EmptyBlock__Title\")\n\npage_objects/cart_page.py:637: AssertionError","steps":[{"name":"Активирую блок изменения информации","time":{"start":1750052355599,"stop":1750052383632,"duration":28033},"status":"passed","steps":[{"name":"Добавляю товар без скидки в корзину","time":{"start":1750052355599,"stop":1750052374154,"duration":18555},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://garwin.ru'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Переключаюсь на компанию с иным типом цен","time":{"start":1750052374154,"stop":1750052380735,"duration":6581},"status":"passed","steps":[{"name":"Открываю страницу Мои компании","time":{"start":1750052374154,"stop":1750052376908,"duration":2754},"status":"passed","steps":[{"name":"Открываю https://garwin.ru/cabinet/companies/","time":{"start":1750052374154,"stop":1750052376908,"duration":2754},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"url","value":"'https://garwin.ru'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Нахожу компанию с не розничным типом цен","time":{"start":1750052376908,"stop":1750052376943,"duration":35},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю состояние кнопки и выбираю компанию, если она не выбрана","time":{"start":1750052376943,"stop":1750052380735,"duration":3792},"status":"passed","steps":[{"name":"Выбираю контрагента с розничным типом цен","time":{"start":1750052376981,"stop":1750052380735,"duration":3754},"status":"passed","steps":[{"name":"Открываю страницу Мои компании","time":{"start":1750052376981,"stop":1750052379596,"duration":2615},"status":"passed","steps":[{"name":"Открываю https://garwin.ru/cabinet/companies/","time":{"start":1750052376981,"stop":1750052379596,"duration":2615},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"url","value":"'https://garwin.ru'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Нахожу компанию с не розничным типом цен","time":{"start":1750052379596,"stop":1750052379624,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю состояние кнопки и выбираю компанию, если она не выбрана","time":{"start":1750052379624,"stop":1750052380735,"duration":1111},"status":"passed","steps":[],"attachments":[{"uid":"cc55e97a124e68c0","name":"Состояние кнопки","source":"cc55e97a124e68c0.attach","type":"text/plain","size":47}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"base_url","value":"'https://garwin.ru'"}],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"base_url","value":"'https://garwin.ru'"}],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Открываю https://garwin.ru/cart","time":{"start":1750052380735,"stop":1750052383632,"duration":2897},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"page","value":"<Page url='about:blank'>"},{"name":"base_url","value":"'https://garwin.ru'"}],"shouldDisplayMessage":false,"stepsCount":12,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Нажимаю на кнопку 'Ок'","time":{"start":1750052383633,"stop":1750052384703,"duration":1070},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что блок изменения информации больше не отображается на странице","time":{"start":1750052384703,"stop":1750052384729,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Очищаю корзину","time":{"start":1750052384729,"stop":1750052391866,"duration":7137},"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: None \nCall log:\nLocatorAssertions.to_be_visible with timeout 5000ms\n  - waiting for locator(\".EmptyBlock__Title\")\n\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/page_objects/cart_page.py\", line 76, in cart_deletion_all_products\n    self.cart_is_empty()\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/page_objects/cart_page.py\", line 637, in cart_is_empty\n    expect(self.page.locator(self.CART_IS_EMPTY)).to_be_visible()\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 20902, in to_be_visible\n    self._sync(self._impl_obj.to_be_visible(visible=visible, timeout=timeout))\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 654, in to_be_visible\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 70, in _expect_impl\n    raise AssertionError(\n","steps":[{"name":"Нажимаю на кнопку 'Удалить'","time":{"start":1750052384729,"stop":1750052385778,"duration":1049},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Подтверждаю удаление","time":{"start":1750052385778,"stop":1750052386848,"duration":1070},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что корзина пуста","time":{"start":1750052386848,"stop":1750052391866,"duration":5018},"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: None \nCall log:\nLocatorAssertions.to_be_visible with timeout 5000ms\n  - waiting for locator(\".EmptyBlock__Title\")\n\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/page_objects/cart_page.py\", line 637, in cart_is_empty\n    expect(self.page.locator(self.CART_IS_EMPTY)).to_be_visible()\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 20902, in to_be_visible\n    self._sync(self._impl_obj.to_be_visible(visible=visible, timeout=timeout))\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 654, in to_be_visible\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 70, in _expect_impl\n    raise AssertionError(\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":19,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"page_fixture::0","time":{"start":1750052391887,"stop":1750052392539,"duration":652},"status":"passed","steps":[],"attachments":[{"uid":"8c1839f8668b371","name":"trace","source":"8c1839f8668b371.zip","type":"application/zip","size":5177453},{"uid":"a7ddefe0341c0afd","name":"failure_screenshot","source":"a7ddefe0341c0afd.png","type":"image/png","size":323354},{"uid":"e9998b8737eae0de","name":"page_source","source":"e9998b8737eae0de.html","type":"text/html","size":763070},{"uid":"17a402de68c5ba2e","name":"network_logs","source":"17a402de68c5ba2e.json","type":"application/json","size":2}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"tag","value":"auth"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_cart"},{"name":"host","value":"pkrvmfw4aktn2gb"},{"name":"thread","value":"4275-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cart"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"cd21e8da49d5af53","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: None \nCall log:\nLocatorAssertions.to_be_visible with timeout 5000ms\n  - waiting for locator(\".EmptyBlock__Title\")","time":{"start":1750052315949,"stop":1750052351851,"duration":35902}},{"uid":"e0ab390efb34ecb0","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: None \nCall log:\nLocatorAssertions.to_be_visible with timeout 5000ms\n  - waiting for locator(\".EmptyBlock__Title\")","time":{"start":1750052275938,"stop":1750052312202,"duration":36264}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":6,"broken":0,"skipped":0,"passed":49,"unknown":0,"total":55},"items":[{"uid":"6c0e73053950d8ba","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/348//#testresult/6c0e73053950d8ba","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: None \nCall log:\nLocatorAssertions.to_be_visible with timeout 5000ms\n  - waiting for locator(\".EmptyBlock__Title\")","time":{"start":1749997558050,"stop":1749997591757,"duration":33707}},{"uid":"88d84727c5d331fc","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/347//#testresult/88d84727c5d331fc","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: None \nCall log:\nLocatorAssertions.to_be_visible with timeout 5000ms\n  - waiting for locator(\".EmptyBlock__Title\")","time":{"start":1749965590435,"stop":1749965627112,"duration":36677}},{"uid":"a761c0d7a8296c39","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/346//#testresult/a761c0d7a8296c39","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: None \nCall log:\nLocatorAssertions.to_be_visible with timeout 5000ms\n  - waiting for locator(\".EmptyBlock__Title\")","time":{"start":1749911160483,"stop":1749911198233,"duration":37750}},{"uid":"80ef63992e21f318","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/345//#testresult/80ef63992e21f318","status":"passed","time":{"start":1749878873079,"stop":1749878906400,"duration":33321}},{"uid":"f058078174188f4d","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/344//#testresult/f058078174188f4d","status":"passed","time":{"start":1749824685004,"stop":1749824717148,"duration":32144}},{"uid":"f9440b1da3ae64af","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/343//#testresult/f9440b1da3ae64af","status":"passed","time":{"start":1749792175108,"stop":1749792206471,"duration":31363}},{"uid":"7f27f5c679b64d1c","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/342//#testresult/7f27f5c679b64d1c","status":"passed","time":{"start":1749738285831,"stop":1749738317580,"duration":31749}},{"uid":"3cf2dfe9eb21dd66","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/341//#testresult/3cf2dfe9eb21dd66","status":"passed","time":{"start":1749705825122,"stop":1749705853706,"duration":28584}},{"uid":"8eeefb0f7fcad405","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/340//#testresult/8eeefb0f7fcad405","status":"passed","time":{"start":1749651796472,"stop":1749651824713,"duration":28241}},{"uid":"831331c64c178bf3","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/339//#testresult/831331c64c178bf3","status":"passed","time":{"start":1749619788794,"stop":1749619818237,"duration":29443}},{"uid":"d39d7a3d18215f42","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/338//#testresult/d39d7a3d18215f42","status":"passed","time":{"start":1749565537646,"stop":1749565569564,"duration":31918}},{"uid":"4877dd494c991c4f","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/337//#testresult/4877dd494c991c4f","status":"passed","time":{"start":1749533014622,"stop":1749533046296,"duration":31674}},{"uid":"50051689452a56c7","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/336//#testresult/50051689452a56c7","status":"passed","time":{"start":1749479113110,"stop":1749479145177,"duration":32067}},{"uid":"c6ee5ab9f274e6d9","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/335//#testresult/c6ee5ab9f274e6d9","status":"passed","time":{"start":1749446778863,"stop":1749446808456,"duration":29593}},{"uid":"b479e9e2fd059e38","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/334//#testresult/b479e9e2fd059e38","status":"passed","time":{"start":1749392511276,"stop":1749392539464,"duration":28188}},{"uid":"eed1839638f846f5","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/333//#testresult/eed1839638f846f5","status":"passed","time":{"start":1749360507545,"stop":1749360538367,"duration":30822}},{"uid":"2a5d25bf5e42da56","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/332//#testresult/2a5d25bf5e42da56","status":"passed","time":{"start":1749306204875,"stop":1749306234827,"duration":29952}},{"uid":"4d122a454adb83ea","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/331//#testresult/4d122a454adb83ea","status":"passed","time":{"start":1749274066039,"stop":1749274099272,"duration":33233}},{"uid":"7b78b84694981bae","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/330//#testresult/7b78b84694981bae","status":"passed","time":{"start":1749219924938,"stop":1749219954621,"duration":29683}},{"uid":"9103a2bbc071fdd2","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/329//#testresult/9103a2bbc071fdd2","status":"passed","time":{"start":1749187735522,"stop":1749187769205,"duration":33683}}]},"tags":["auth"]},"source":"1f28481e4f1a47f4.json","parameterValues":["'chromium'"]}