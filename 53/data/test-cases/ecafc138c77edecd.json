{"uid":"ecafc138c77edecd","name":"Добавление ПВЗ","fullName":"tests.test_checkout#test_pickup_point_adding","historyId":"94a5a86a263d2a4c3eaf5b6e77ffbc0a","time":{"start":1741704081494,"stop":1741704103112,"duration":21618},"status":"broken","statusMessage":"ValueError: could not convert string to float: ''","statusTrace":"self = <allure_commons._allure.fixture object at 0x7f41e6d10230>, args = ()\nkwargs = {}\n\n    def __call__(self, *args, **kwargs):\n        self.parameters = func_parameters(self._fixture_function, *args, **kwargs)\n    \n        with self:\n>           return self._fixture_function(*args, **kwargs)\n\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py:221: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nconftest.py:272: in teardown\n    price = checkout_page.calculation_block.total_price_value()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_objects.checkout_page.CalculationBlock object at 0x7f41e6e109e0>\n\n    @allure.step(\"Читаю сумму в блоке Калькуляция\")\n    def total_price_value(self):\n        with allure.step(\"Извлекаю текст итоговой суммы в блоке Калькуляция\"):\n            text_total_price = self.page.locator(self.TOTAL_PRICE_VALUE).inner_text()\n>           total_price_number = float(text_total_price.replace('\\n\\n\\xa0\\n\\n₽', '').replace(',', '.').replace(' ₽', '')\n                                       .replace('\\xa0', ''))\nE           ValueError: could not convert string to float: ''\n\npage_objects/checkout_page.py:1148: ValueError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1741702595991,"stop":1741702595991,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1741702595991,"stop":1741702596044,"duration":53},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1741702596044,"stop":1741702596045,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1741702596044,"stop":1741702596044,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1741702596045,"stop":1741702596258,"duration":213},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1741702596045,"stop":1741702596045,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1741702596045,"stop":1741702596045,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1741702596045,"stop":1741702596045,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1741702596258,"stop":1741702596258,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1741702596259,"stop":1741702596417,"duration":158},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1741702596259,"stop":1741702596259,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_fixture","time":{"start":1741704081402,"stop":1741704081494,"duration":92},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_address_fixture","time":{"start":1741704081494,"stop":1741704081494,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"ValueError: could not convert string to float: ''","statusTrace":"self = <allure_commons._allure.fixture object at 0x7f41e6d10230>, args = ()\nkwargs = {}\n\n    def __call__(self, *args, **kwargs):\n        self.parameters = func_parameters(self._fixture_function, *args, **kwargs)\n    \n        with self:\n>           return self._fixture_function(*args, **kwargs)\n\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py:221: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nconftest.py:272: in teardown\n    price = checkout_page.calculation_block.total_price_value()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_objects.checkout_page.CalculationBlock object at 0x7f41e6e109e0>\n\n    @allure.step(\"Читаю сумму в блоке Калькуляция\")\n    def total_price_value(self):\n        with allure.step(\"Извлекаю текст итоговой суммы в блоке Калькуляция\"):\n            text_total_price = self.page.locator(self.TOTAL_PRICE_VALUE).inner_text()\n>           total_price_number = float(text_total_price.replace('\\n\\n\\xa0\\n\\n₽', '').replace(',', '.').replace(' ₽', '')\n                                       .replace('\\xa0', ''))\nE           ValueError: could not convert string to float: ''\n\npage_objects/checkout_page.py:1148: ValueError","steps":[{"name":"Открываю https://garwin.ru/cart","time":{"start":1741704081495,"stop":1741704084725,"duration":3230},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Очищаю корзину","time":{"start":1741704084726,"stop":1741704086913,"duration":2187},"status":"passed","steps":[{"name":"Нажимаю на кнопку 'Удалить'","time":{"start":1741704084765,"stop":1741704085839,"duration":1074},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Подтверждаю удаление","time":{"start":1741704085839,"stop":1741704086913,"duration":1074},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Добавляю товар(stm) в корзину","time":{"start":1741704086913,"stop":1741704092339,"duration":5426},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://garwin.ru'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Открываю https://garwin.ru/checkout","time":{"start":1741704092339,"stop":1741704094339,"duration":2000},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Открываю листинг получателей","time":{"start":1741704094339,"stop":1741704097524,"duration":3185},"status":"passed","steps":[{"name":"Открываю https://garwin.ru/checkout","time":{"start":1741704094339,"stop":1741704096404,"duration":2065},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Открываю листинг адресов","time":{"start":1741704096404,"stop":1741704097524,"duration":1120},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"base_url","value":"'https://garwin.ru'"},{"name":"page_fixture","value":"<Page url='https://garwin.ru/checkout'>"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Открываю модалку Карты","time":{"start":1741704097524,"stop":1741704098636,"duration":1112},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что кнопка Пункт выдачи предвыбрана","time":{"start":1741704098636,"stop":1741704098665,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Выбираю ПВЗ по кастомному событию","time":{"start":1741704098665,"stop":1741704098699,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"pickup_point_id","value":"'75048c93-dfb2-422d-b17b-ff95ad2193c8'"},{"name":"latitude","value":"59.88164"},{"name":"longitude","value":"30.273926"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Проверяю, что точка выбрана (отображается кнопка Забиру здесь)","time":{"start":1741704098699,"stop":1741704098831,"duration":132},"status":"passed","steps":[{"name":"Открываю Карту","time":{"start":1741704098699,"stop":1741704098699,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Запоминаю адрес ПВЗ в модальном окне Карты","time":{"start":1741704098832,"stop":1741704098847,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Подтверждаю выбор ПВЗ","time":{"start":1741704098848,"stop":1741704099899,"duration":1051},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Запоминаю адрес ПВЗ в блоке Получение","time":{"start":1741704099899,"stop":1741704099912,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверяю, что в блоке Получения установлися адресс выбранного ПВЗ","time":{"start":1741704099912,"stop":1741704099912,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Открываю листинг получателей","time":{"start":1741704099912,"stop":1741704103010,"duration":3098},"status":"passed","steps":[{"name":"Открываю https://garwin.ru/checkout","time":{"start":1741704099912,"stop":1741704101879,"duration":1967},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Открываю листинг адресов","time":{"start":1741704101879,"stop":1741704103010,"duration":1131},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"base_url","value":"'https://garwin.ru'"},{"name":"page_fixture","value":"<Page url='https://garwin.ru/checkout'>"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Проверяю, что новый адрес появился в листинге, его информация соответствует заданной, он активен","time":{"start":1741704103011,"stop":1741704103112,"duration":101},"status":"passed","steps":[{"name":"Нахожу блок с активной радиокнопкой","time":{"start":1741704103011,"stop":1741704103052,"duration":41},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Ищу информацию в выбранном блоке","time":{"start":1741704103052,"stop":1741704103112,"duration":60},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Сравниваю с ожидаемыми значениями","time":{"start":1741704103112,"stop":1741704103112,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"expected_description","value":"'Россия, Санкт-Петербург, Санкт-Петербург, ул. Возрождения, 20 лит А'"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":25,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"delete_address_fixture::teardown","time":{"start":1741704103113,"stop":1741704105324,"duration":2211},"status":"broken","statusMessage":"ValueError: could not convert string to float: ''\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/conftest.py\", line 272, in teardown\n    price = checkout_page.calculation_block.total_price_value()\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/page_objects/checkout_page.py\", line 1148, in total_price_value\n    total_price_number = float(text_total_price.replace('\\n\\n\\xa0\\n\\n₽', '').replace(',', '.').replace(' ₽', '')\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Удаляю созданный адрес","time":{"start":1741704103113,"stop":1741704105323,"duration":2210},"status":"broken","statusMessage":"ValueError: could not convert string to float: ''\n","statusTrace":"  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/conftest.py\", line 272, in teardown\n    price = checkout_page.calculation_block.total_price_value()\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/page_objects/checkout_page.py\", line 1148, in total_price_value\n    total_price_number = float(text_total_price.replace('\\n\\n\\xa0\\n\\n₽', '').replace(',', '.').replace(' ₽', '')\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Открываю https://garwin.ru/checkout","time":{"start":1741704103113,"stop":1741704105280,"duration":2167},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Читаю сумму в блоке Калькуляция","time":{"start":1741704105308,"stop":1741704105323,"duration":15},"status":"broken","statusMessage":"ValueError: could not convert string to float: ''\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/page_objects/checkout_page.py\", line 1148, in total_price_value\n    total_price_number = float(text_total_price.replace('\\n\\n\\xa0\\n\\n₽', '').replace(',', '.').replace(' ₽', '')\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Извлекаю текст итоговой суммы в блоке Калькуляция","time":{"start":1741704105308,"stop":1741704105323,"duration":15},"status":"broken","statusMessage":"ValueError: could not convert string to float: ''\n","statusTrace":"  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/page_objects/checkout_page.py\", line 1148, in total_price_value\n    total_price_number = float(text_total_price.replace('\\n\\n\\xa0\\n\\n₽', '').replace(',', '.').replace(' ₽', '')\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"page_fixture::0","time":{"start":1741704105324,"stop":1741704105337,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1741705060575,"stop":1741705061035,"duration":460},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1741705061046,"stop":1741705061058,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"auth"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_checkout"},{"name":"host","value":"fv-az1215-625"},{"name":"thread","value":"4184-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_checkout"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["auth"]},"source":"ecafc138c77edecd.json","parameterValues":["'chromium'"]}